= Test Partner Web Application 

:imagesdir: ../../assets/images
// :toclevels: 2
:icons: font 
:sectanchors:
:sectnums:
// :toc: 

++++
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-51D1EZEH8B"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-51D1EZEH8B');
</script>
<style>
  .underline {
    cursor: pointer;
  }

  .nav-container {
    display: none !important;
  }

  .doc {    
    max-width: 70rem !important;
  }

  .pagination .next {
    display: none !important;
  }
</style>
++++



In the previous section, you signed up for access as a Partner Developer and gained credentials to access the Globex Partner Gateway API. You also setup the necessary configurations for the Partner Web Application.

== Access Partner Web App

. Launch the https://globex-partner-web-globex-apim-{user_name}.{openshift_subdomain}[Globex Partner Web^]
+
.Partner Web Portal
image::apim/partner_web_portal.png[]
. Login using username/password as *(\user@partner.com/openshift)*. 
.. It is notable that the partner users are not managed using Keycloak. 
. After logging in, the entire product list is shown in a paginated format. Allow a few seconds for the catalogue to load +
NOTE: If the catalog list on the page doesn't load immediately, it could be that the Gateway isn't ready yet. Refresh the page after a short period of time.
. Reload this page by hitting the Browser Refresh a few times which will help us to generate some analytics.
+
.User logged in and can view paginated products
image::apim/apim-partner-loggedin.png[width=80%]


== Analytics
. Navigate to the {globex_developer_portal}/buyer/stats[Globex Developer Portal Statistics^, window="devportal"] 
. From the dropdown indicated in this screenshot, choose the Partner Gateway API's application plan (which is  `partner-basic` in this case).
. You will be presented with the statistics graph of the calls made to this gateway by the Partner Developer's access.
+
image::apim/apim-partner-analytics.png[]

== Under the hood
As part of this Section you setup and tested the Partner Web App. 

. The user *partner* that you logged into the Partner App as, is not authenticated using Keycloak. In fact it is not authenticated at all. 
.. This is because the way partners handle user authentication is not something that Globex is concerned about at all.
. In this scenario we use Client Credentials authentication, because the backend NodeJS server authenticates itself with Client ID and Credentials obtained by the Partner Developer while signing up for an Application via 3scale Developer Portal
. The token generated by NodeJS is then exchanged with 3scale to ensure the Client ID indeed has access to that particular API


== Congratulations
With this you have completed the *Launch new channels with Contract-First Approach* module!

[TIP]
====
Please close all but the *Workshop Deployer* browser tab to avoid proliferation of browser tabs which can make working on other modules difficult. 
====


Proceed to the https://workshop-deployer.{openshift_subdomain}[Workshop Deployer^, window="workshopdeployer"] to choose your next module.
